on:
  push:
    # branches:
    #   - master

name: Create Release

jobs:
  build:
    name: Create Release
    runs-on: ubuntu-latest
    steps:
      - name: check out code
        uses: actions/checkout@v1 # currently only v1 supports submodules
        with:
          submodules: recursive
          # fetch-depth: 0
      - name: update variants
        # run: echo "I would update the variants here"
        uses: oclyke-actions/compile-mbed-projects@v0.0.0
      - name: changelog
        id: changelog
        run: echo "placeholder for changelog generation"
        # uses: scottbrenner/generate-changelog-action@1.0.0
        env:
          REPO: ${{ github.repository }}
      - name: create release
        id: create_release
        run: echo "placeholder for release creation"
        # uses: actions/create-release@latest
        # env:
        #   GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        # with:
        #   tag_name: ${{ github.ref }}
        #   release_name: Release ${{ github.ref }}
        #   body: |
        #     ${{ steps.changelog.outputs.changelog }}
        #   draft: false
        #   prerelease: false
